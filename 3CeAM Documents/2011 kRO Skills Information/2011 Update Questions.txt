Questions Needing Answers For 2011 Updates....

Note: Just to toss in here and remember, Frost Nova's freeze chance is incorrectly set.
Update: Think I fixed this.

Note2: Must recheck burning status.

Note3: Recheck all Mechanic skill fuel requirements.

Note4: The changes in the notes im looking at for Auguest 31 are all applied to the main server.
Im guessing some of them didnt make it in. But then what gets me is if a change was made on sakray, but didnt make it into main,
then why is their no info of it being changed back on sakray? Thats the confusing part. Needing confirms on these certain things
makes it difficult to officially update these skills. For now ill have to do the best I can to my knowledge.
Maybe they forgot to add some stuff to the update notes.

Note5: Keep track of patch notes for April 13, 2011, May 18, 2011, and Auguest 31, 2011 for Mechanic.

Note6: Soon the code that adjusts damage for 3rd job skills based on your base level will need a recheck as im now finding flaws.
Update: 3-1 jobs base level ratio code fully updated. 3-2 will be done 1 by 1 as formulas are updated.

Note7: Splash skills have become a major thing for 3rd jobs and how to handle each one, being weapon, magic, misc, or none, and how
its used if its enemy targeted, ground targeted, self targeted, etc can all determand how to treat a skill in the code.
Looking at different codes im starting to get the feeling a good bit of the skills may be handled wrong.
Arm Cannon was a good example. Its ground targeted, but was incorrectly coded to try and attach a player, which it cant do unless
targeted. Cant do that with ground targeted skills.

Note8: A lot of Gullotine Cross skills in the iRO document didnt say their durations. Good thing I have another place to get that info from.

Note9: A few Royal Guard skills are said to increase weapon ATK. Is this true or does it increase base ATK?

Note10: Their's a spot in status.c that says MISC CALCULATION and theirs some setup for equip bonuses. Maybe I can added the fixed ATK thing there.

Note11: Their's something strange about the Archer and Hunter skills cast range. They might be set low and then increased by the Owl or Vulture (forgot which).
If true, then Ranger bow skills needs to be set the same way as well. Test first.

Death Bound
Document says skill cooldown is 3 seconds, yet iRO's skill desc says you must wait 5 seconds before re-casting again.
Which is true?
Also says you cant move for the 2 second duration of the skill. How do I code that in?

Hundred Spear
Past info said that the player must master the Spear Boomerang for the autocast chance to work.
Yet iRO's skill desc says has a chance of activating the highest learned level of [Spear Boomerang] if the caster has learned that skill.
Which is true?

Wind Cutter
Whats the fear status duration?
Is the AoE size really 5x3 or is it 5x5?

Ignition Break
Is the bonus damage from having a fire element weapon equipt applied and affect by your base level, or its seprate?

Dragon Training
Document says size modifiers for spears is 100% for all sizes. Is it really 100% for small size or just medium and large sizes?

Dragon Howling
Is the fear status's immobilization 2 seconds reguardless of how I set fear's duration?

Rune Mastery
Success formula setup will need to be reworked or maybe entirely recoded since theirs much more to the success then just the skill level.
Will do this one day when I have time.

Millennium Shield
Says number of shields summoned: 2 shields at 50% chance, 3 shields at 30% chance, 4 shields at 20% chance.
I dont know if the way we have it coded makes the chances close to this. Right now its coded to work like this....
Chance to get 4 shields =  50% <-- If random chance fails, it will try for 3 shields next.
Chance to get 3 shields =  80% <-- If random chance fails, it will try for 2 shields next.
Chance to get 2 shields = 100%
Also says it stuns the player when 1 shield breaks. The stun lasts for 3 seconds and reduced by VIT right? Does this even work in 3CeAM?
May reduce stun duration to 1 second if found that 3 seconds is too high. Imagine a shield breaking back to back every second. COuld be annoying.

Giant Growth
Recheck the check for the 3x damage in battle.c as a small cleanup might be possiable.

Crush Strike
How do I code it as a self cast? I know how to make it self cast, but not how to apply damage through a status.
Guess ill do it like Exeed Break? I only updated the damage formula to official for now.

Refresh
The document doesent say it, but a tester found that it removes and immunes against Decrease AGI and Quagmire. It also worked on
White Imprison but not sure if it still does on it. Its been left in for now.

Vitality Activation
The disabled SP regen part is coded, but how do you code it to increase effectiveness of HP potions, heal skills
and lower effectiveness of SP recovery items?

Storm Blast
Document says nothing about a aftercast, yet past data showed it had a 1 second cooldown. Then again that aftercast found wasnt from kRO.
ill go by what the document said since other things in that old data was inaccurate like Earth Strain's item strip chance.
Note: I do remember it said somewhere in the document for another skill saying the value was changed to nothing.
Maybe I should keep my eyes open for that as that tells if something was removed or set to 0.

Fighting Spirit
The ASPD increase part was set to boost it by 2% * RK_RUNEMASTERY-LV-LEARNED as 10% will give a +4 increase to the base.
But I think the ASPD boost is only working if your in a party, which is incorrect as it should always work.
The code looks complex and im not bothering to fix it. Someone else can do that.

Phantom Thrust
Should work against other players in PVP and duel?

White Imprison
Different success chance on yourself, targeted player, and targeted monster? Different duration on yourself, targeted player, and targeted monster?
Different duration reduction stats between targeted player and targeted monster? Know what....screw it. This is kinda complex and ill work
onthis skill another time when I feel like it or if anyone else wants to do it.

Marsh of Abyss
The skill is coded kinda funky and may need to be recoded. Settings in skill_cast_db was updated but not bothering to do anything else til later.

Sienna Execrate
Also coded in a funky way and will need to be recoded on some parts. Im guessing its coding from the time we were still learning how to code things?
Best come back to this one later.

Radius
I dont understand why the document says it has a cast time, aftercast, and duration when I see no SP requirement in the skillinfolist or any patch
notes saying anything about changes from passive to self cast. Might be a error in their document.

Stasis
Some parts of the code appear to need a cleanup or a recode. Coming back to this later.

Hell Inferno
Is using sc_start4 to activate the burning status. Do it have to be done with that or it could be changed to sc_start safely?

Comet
Splash AoE was changed to 19x19 and the AoE zone sizes and damagesa for each one was updated. Will need to replace the splash with AoE units usage
one day when I get a chance.

Chain Lightning
Damage formula has changed to a interesting one. The formula is (Not including the base level part)....
Formula = 500 + 100 * SkillLV + 100 * ( 9 - Number of Chains Made)
How can I code in the last part to detect how many chains (also called bounces) made?

Earth Strain
Whats its duration for strip status?

Tetra Vortex
This system needs to be reworked and cleaned up. Tetra Vortex's 4 elemental attack ID's are now being used again since a different colored animation
is now triggered from them. The main ID is again used only for casting. You still only need 4 spheres and which ones you summon still determands the
element of each strike.

Summon Sphere's
The damage formula isnt given in the documents but whats in 3CeAM is very close to official. Might recheck it again later if needed.

Reading Spellbook
Says nothing about cooldown time in the document. Does this mean the cooldown was removed?

Fear Breeze
The current way this skill is doing its random number of hits effect is not official and will need to be recoded.
Will do a temp update to the skill for now.

Aimed Bolt
Will need to recheck and redo the size check and percentage on number of hits code.
The number of arrows needed for this skill depends on the number of hits that will be done.

Electric Shocker
Must code in duration reduction formula.
Where is the code for the percent of SP thats drained per second? I cant find it.

Waug Bite
Must code in duration reduction formula and how Tooth of Wug affects things.

Tooth of Waug
Read the info for Waug Bite. Must add that.

Camouflage
Here's a good one....
While in Camouflage, CRIT chance and damage increases by 10% and damage increases by +30 (Fixed) per second respectively. However Ranger’s DEF will decrease by 5% per second.
(CRIT is increased up to 100%, Damage is increased up to +300 (Fixed)
How the hell do I code this to change every second? The duration is 10 seconds tops. So this means that by the end of the duration the DEF will be -50%?
I cant even properly read the movement speed code. Skipping this one for now.

Magenta Trap, Cobalt Trap, Maize Trap, Verdure Trap
Didnt bother to look at or these these. Will one day.

Adoramus
A bit messy looking and may need some parts recoded or cleaned up.
Also need to check the Blind and AGI Down status.

Coluceo Heal
Skill appears to cast the skill "Heal" on all party members.
Well need to recode this part and make it heal using the new official formula one day.

Epiclesis
Must check what all hidden status's it removes. Currently only removes Hiding and Cloaking status.
Also is the AoE 5x5 or 7x7? Getting different info from different sources.

Praefatio
Need to code a seprate formula for the skills barrier HP formula. Now do I add a party member count check?
Formula is (10 + 2 * Kyrie Eleison SkillLV + Number of Party Members x 2)%

Lauda Agnus and Lauda Ramus
Supposed to only give the VIT and LUK bonuses on skill cast if the party member is not infected with any of the statuses the skill cures.
In the 3CeAM code its checking to see if a player is affected with any of the status's the skill heals before attempting to hit a random chance to heal them.
This isnt really needed is it?

Eucharistica
Attack and resistance may be incorrect as im not exactly sure on what element or races it works on.
Also may not be increasing damage properly or at all. Will recheck later.

Renovatio
Need to change the damage from the skill on undead to the new damage formula.
Buff should work as a debuff on undead targets and stay active for the duration and deal damage every 5 seconds.

Clearance
You would not believe the number of status's it can and cant remove. The skill mainly looks like a buffed up version of the Sage's Dispell.
Only downside is it can remove some buffs as well and cant be used on enemy players. Can only be used on players in your party or enemy monsters.
Need to test if it works only on monsters and players in party and it should work ONLY on the targeted player.

Mado License
Still requires level 1 to drive a Mado? Looks like it.

Pile Bunker
Success chance appears to have gone up, even tho the balance notes says it was decreased.
Balance notes say range is 3/4/5, but was changed back to 3 cells for all levels on March 7, 2012.

Cold Slower
Says duration is 7 * SkillLV seconds. Is this true for both status?

Arms Cannon
SP requirement in skillinfolist.lub and whats said in the balance update is different. Which is correct?
Also remembering what I found in the zone their may be some extra damage formula data.
I couldnt figure out what it was exactly. Think something about the cannonball and its element or weight?
Balance note from April of 2011 says changed from ground targeted to enemy targeted with splash AoE. Doesent say it in Auguest notes tho or in balance document.
Must check for confirm for the above.

Hovering
Does it still boost movement speed? Will leave it set to 10 until confirm.
Their's a good number of skills that wont affect the Mechanic when in this status. Will have to do this later.

Self Destruction
SP requirement is 300, but balance notes says has no SP requirement anymore. Recheck and confirm later before applying.

Shape Shift
I dont know if their's a cleaner way to add in the item requirements. Works ok as is tho.

Emergency Cool
This skill will need most of the code redone, as well as part of Mainframe to add a official working heat guage system.
Zone mine shows it checks for 3 different cooling system items, starting with the special one. If not detected it checks
for the advance one. If not detected it checks for the normal one. Which one is found determands how much the heat counter
is decreased.

Infrared Scan
Says unhides targets. Does this mean it unhides any kind of hiding or cloaked like status?

Magnetic Field
Says the status on players is canceled if they take earth damage or are affected by Quagmire.
ill need to check how our current code works before adding this later.
No info in patch notes about variable cast time being removed, but document shows no cast time ether. ill follow whats in the patch notes here.

Neutral Barrier
Cooldown in document confirmed to be false. Patch notes says its 90 seconds. This cooldown will be used on this skill, Magnetic Field, and Stealth Field.
Note: Check top of status.c for adding whatever.
Need to add the DEF/MDEF increase part of the code.
Looking around in the code it appears ill have to do some serious recoding on most parts and also remove some code.
ill do that on the next revision to avoid accidently reverting other things.
iRO Wiki says being in the AoE protects you from Earthquake which is a splash skill, but not Evil Land. Does it block splash AoE's and not ground AoE's
or it just blocks Earthquake because its magic? Need to test and confirm.

Stealth Field
Must confirm if cooldown is 90 seconds just like Neutral Barrier. April 2011 says it was changed, but Auguest 2011 doesent say.
Supposed to take a % of SP while active. How do I do that in the code?
Says in the patch notes "Ranged damage reduction is changed from 30% to 20%". This skill reduces ranged damage? Must confirm.

Repair
Code tested and appears to be properly working on players with OPTION_MADO active. (Reading the code in skill.c im not sure how, but it works)
Unable to make a actural formula to follow by. Will have to revisit later and set a healing amount for each level seprate. But how to do that without the messyness?

Axe Tornado
Upon checking the coding on how to treat this skill in the skill.c file, questions started appearing in my head on how all these splash
skills should really be treated. Theirs a number of different ways to treat them and appears different not only for type like weapon, magic, or misc,
but also on how the skills is used or targeted, and how the animation works. 

FAW's Silver Sniper and Magic Decoy
Says on May 18, 2011 patch notes cast time cant be interupted anymore. Yet it says nothing about it in the Auguest 31, 2011 patch notes.
Should I apply this change? May want to get a confirm on the change first.
Must also figure out how to add the HP formula's for both FAW skills as each one is different.

FAW Removal
Says in May 18, 2011 patch notes the cast range was increased, but says nothing about it in the Auguest 31, 2011 patch notes.
But upon checking the skillinfo.lub file it shows the range is still increased. Should the change be applied? Want to confirm first as a range for this sounds not right.
I also see a hint. Venom Impress had its range increased too according to a test RE patch note, but nothing in the main server patch notes says anything about it.
The lub file shows the increase, and even the iRO 2011 balance document says their's a increase. Even Frost from iRO Wiki Forums confirmed it exists.
Another thing is the documents for Mechanics update didnt have any info on Side Slide skills (guessing as its not important) and nothing about FAW Removal (they probely also
guessed it wasnt important to show ether). So it may have been increased, may not. But this should be testing first to be sure.

Venom Impress
Doesent say how long the duration for the reduced poison resistance lasts. Good thing I got official data.
iRO's skill desc says "Weaken the enemy's resistance, against Venom type attacks in a 10x10 range."
That kind of AoE is impossiable. Plus it makes no sence to put a AoE effect of some kind for this.

Cross Impact
In RO, skills that hit more then once take 200ms for each hit to hit. With this skill dealing 7 hits, the walk delay has been set to 1400.
Anything higher for the walk delay would be not right feeling. Sonic Blow and Arrow Vulcan should be looked at in the future on rAthena
to see if they should be set to only as long as the number of hits happens.

Dark Illusion
Looking at the code for the skill in skill.c, I have to wonder if their's room for improving the code to be smaller.

Research New Poison
A lot of checking and testing will need to be done to ensure this is working properly. Will do this stuff another time.
Here's some facts Frost figured out while testing the Guillotine Cross poisons....
1. Poisons are generally the same. You can only be inflicted by one at a time, and by so, you become immune to the other ones. (Meaning poisons dont stack or end other poisons.)
2. You cannot consume a bottle of poison to be inflicted by it. (Was a problem with Shadow Chasers in the past with the Deadly Infect skill.)
3. Poison duration cannot be reset or extended. The old one must expire before inflicting a new one even if it's the same poison. (Dont know if 3CeAM handles it like this right now.)
4. Boss flagged monsters are unaffected by GX poison. (Huuuh Duhhhh)
5. Damage dealt from poison is 'self-inflicting reflect type damage' which can cause the target to autocast spells on himself.
When used on RGs with +9 up Glorious Spears, damage from poisons forced him to cast Gloria Domini on himself.
The only exception is the Magic Mushroom poison, which causes hp loss and not damage. (........what?)

More interesting is learning the skill makes you immune to these poisons. Full formula appears to be like
(Poisoning Weapon or Venom Pressure success chance - 5 * SkillLV)

Even more interesting is this skill increases Enchant Deadly Poisons (Known as EDP) duration by 3 * SkillLV.

Poisoning Weapon
I found the success in the code set as (chance = 2 + 2 * sd->menuskill_itemused; // 2 + 2 * skill_lv) in the skill.c
ill have to test if this success is working correctly due to that sd->menuskill_itemused part of the code.

Weapon Blocking
Frost said you have a 2 second window to use Counter Slash or Weapon Crush. But I cant tell if that duration is working correctly in 3CeAM.
I see something in the code that says tick = 3000, but it doesent feel like its 3 seconds.

Counter Slash
iRO document doesent say anything about a aftercast delay, but my other source says it has a 2 second aftercast. Need to confirm.
Also, is the knockback 3 or 5 cells? Skill ignores DEF and deals crit damage. How do I make it crit?

Poison Smoke
Need to find out how often the poisoning chance is applied. Its currently set to 1 second.

Hallucination Walk
Says in the balance notes for Auguest 31, 2011 that the HP cost for the skill changed. What was it changed to?

Duuuurp....Chuuuurp.










3-2 Jobs

Trample
Need to know where to setup the random % chance of it being successful. Before or after animation. Must test on official soon.
Also how would I code in the formula for dodgeing exploding traps.

Shield Press
How do I make stun duration not be reduced by stats (VIT)?

Reflect Damage
Im not even goina bother trying to recode this entire skill by myself. Someone else will have to do it.
iRO document strangely says the max number of reflects is 25 + 5 * SkillLv, but patch notes says max reflects possiable is 30.
Must be a typo here. It might really be 5 + 5 * SkillLv.

Force of Vanguard
Patch notes say nothing about MaxHP and DEF increase being removed, yet in the iRO document it says DEF/HP increase omitted. Need proof of this change.
Also says in iRO's skill desc that using Rage Burst will end the Force of Vanguard status. Does it do this on kRO? Need proof before I change this as well.

Rage Burst
Says in iRO skill desc that it ends Force of Vanguard status when used, yet Frost's info says it doesent, but he tested in kRO's test server.
Need a confirm on what it does.

Shield Spell
Ooooooh dear god this skill is complex. ill save this for safely working on in another update.

Exceed Break
How do I make the status cancel when switching weapons?
Currently it appears to be taking the mastery from spear mastery and boosting it. Its not supposed to do that, right?

Overbrand
Skill main ID deals the straight forward 7x3 AoE, then the 2nd ID deals the 4x11 AoE. Only 2nd AoE on official appears to be doing the knockback.
AoE's are switched to the wrong ID's. They need to be corrected.
How do I add Random number between (10 ~ 100) % to the knockback damage ratio formula?

Prestige
Its said a animation happens when a magic attack misses you while in this status. Will test soon to figure out which one.

Banding
This skill SHOULD be working properly and checking for other Royal Guards as it should, but ill find out soon.

Ray of Genesis
Check battle.c for ATK_RATE.
Everything is working properly except the check for the number of Royal Guards to boost the damage. Need to get a proper one made.
Does this skill cost HP to cast?

Hesperus Lit
Damage Ratio formula for Inspiration status is coded in, but still need to code in a Royal Guard Banding check.
Also need that Royal Guard Banding check for setting the number of hits.
Finally, a 3rd check like this is needed for applying the different additional effects for the skill.
Anyone knows if the effects stack?
Is this really a spear exclusive skill?

Inspiration
Was able to update everything except the HIT increase formula since I dont have enough val's to use.
Val1 is for skill level (Needed for MaxHP increase), val2 is used for WATK Increase, val3 for stats increase,
and val4 is used for some timer thingy. I can only make a proper formula with a job level check by putting it
into a value. Maybe the skill needs to be partly recoded to handle the timer thingy better.
Also be sure to add a config check for the base and job levels in here.

Fire Walk / Electric Walk
iRO document says when skill is casted, the duration lasts for 30 seconds or until you walked all of your steps.
The duration of the cells is seprate and lasts for 12 seconds. A code update will be needed to make these seprate.
Also, video shows a cell vanishes after something walks into it after it deals its damage. Need more info on this.

Diamond Dust
Target can reduce duration with VIT. Must code that in later.
Need to check the entire crystalizeing code to see if its doing all as it should.

Poison Buster
iRO document shows the total cast time for level 4 and 5 is 6 seconds. The document does say level 5 is 6 seconds.
Nothing wrong there, but I was just noting this.
Document is giving the wrong AoE. Appears to be giving the wrong AoE for every splash skill for Sorcerer.

Phychic Wave
When a elemental buffs the skill with a element and increases its attack, it should increase cast time and SP cost by 50%.
How much does the damage increase? Will do these updates when I work on updating the elemental spirit system.

Warmer
iRO Document shows duration is 35 + 5 * SkillLV, but cooldown is said to be 30 + 5 * SkillLV which is 5 seconds before the duration ends.
This is correct right?

Vacuum Extreme
Need to add resistance formula.

Varetyr Spear
iRO document shows the stun chance is 5 * SkillLV, but official source shows its 5 + 5 * SkillLV. Im choosing to stick with official.

Elemental Action
Cooldown is said to be 3 * Summoned Elemental Level. If this is true, then how do I do this?

Elemental and Insignia Skills
This stuff is under a seprate system and will be dealt with on a 2nd pass after im done with other jobs.







